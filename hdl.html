<!DOCTYPE html>
<html>


<head>
  <meta charset="utf-8">
  <script type="text/javascript" src="nes.min.js"></script>
  <script type="text/javascript" >
    function init() {
      var url = 'https://raw.githubusercontent.com/chenyongzhe/chenyongzhe.github.io/master/contra.nes';
      var request = new XMLHttpRequest();
      request.responseType = 'arraybuffer';

      request.onload = function() {
        var buffer = request.response;
        var nes = new NesJs.Nes();

        nes.setRom(new NesJs.Rom(buffer));
        nes.setDisplay(new NesJs.Display(document.getElementById('gameCanvas')));
       // nes.setAudio(new NesJs.Audio());

        window.onkeydown = function(e) { nes.handleKeyDown(e); };
        window.onkeyup = function(e) { nes.handleKeyUp(e); };

        nes.bootup();
        nes.run();
      };

      request.open('GET', url, true);
      request.send(null);
    }
  </script>
</head>

<body onload="init()">
  <p>
    <canvas id="gameCanvas" style="width: 100%;height: 545px"></canvas>
  </p>
   <div>
    <p>请在pc机器上玩上键 下键 左键  右键。。开始:Enter .. 开枪：X，跳跃：Z</p>
  </div>
</body>
   </html>
